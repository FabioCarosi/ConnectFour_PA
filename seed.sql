
CREATE DATABASE IF NOT EXISTS connectfour;

USE connectfour;

DROP TABLE IF EXISTS user;
CREATE TABLE user (
  email varchar(50) NOT NULL,
  credit decimal(5,2) NOT NULL,
  role varchar(50) NOT NULL,
  PRIMARY KEY (email)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS game;
CREATE TABLE game (
  id_game bigint unsigned NOT NULL AUTO_INCREMENT,
  playerOne varchar(50) NOT NULL,
  playerTwo varchar(50) NOT NULL,
  status varchar(50) NOT NULL DEFAULT 'Created',
  startTime timestamp NOT NULL DEFAULT current_timestamp(),
  winner varchar(50) DEFAULT 'No Winner',
  turn varchar(50) NOT NULL DEFAULT 'Current Player',
  difficulty varchar(10) DEFAULT 'medium',
  leaveState varchar(50) DEFAULT 'In Progress',
  PRIMARY KEY (id_game)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS move;
CREATE TABLE move (
  id_move bigint NOT NULL AUTO_INCREMENT,
  id_game bigint NOT NULL,
  email varchar(50) NOT NULL,
  column_move tinyint(1) NOT NULL,
  timestamp_move timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (id_move)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


INSERT INTO user (email, credit, role) VALUES
('admin@email.com',	100,	'admin'),
('ai',	100,	'ai'),
('player1@email.com',	100, 'player'),
('player2@email.com',	100, 'player'),
('player3@email.com', 100, 'player'),
('player4@email.com', 100, 'player'),
('fabio@email.com', 100, 'admin'),
('cristina@email.com', 100, 'admin'),
('adriano@email.com',100, 'admin'),
('luca@email.com', 100, 'admin'),
('playerNoCredit@email.com', 0.25 , 'player');


INSERT INTO game (id_game, playerOne, playerTwo, status, startTime, winner, turn, difficulty, leaveState) VALUES
(1,	'player1@email.com',	'player2@email.com',	'Game Over',	'2022-09-04 09:14:08',	'player1@email.com',	'player2@email.com',	'medium',	'Game Over'),
(2,	'player3@email.com',	'ai',	'Game Over',	'2022-09-04 09:15:45',	'ai',	'player3@email.com',	'medium',	'Game Over'),
(3,	'adriano@email.com',	'luca@email.com',	'Game Over',	'2022-09-04 09:16:31',	'Draw',	'adriano@email.com',	'medium',	'Game Over'),
(4,	'fabio@email.com',	'cristina@email.com',	'Game Abandoned',	'2022-09-04 09:18:27',	'Draw',	'fabio@email.com',	'medium',	'Game Abandoned');

INSERT INTO move (id_move, id_game, email, column_move, timestamp_move) VALUES
(1,	1,	'player1@email.com',	2,	'2022-09-14 12:51:53'),
(2,	1,	'player2@email.com',	3,	'2022-09-14 12:52:09'),
(3,	1,	'player1@email.com',	0,	'2022-09-14 12:52:50'),
(4,	1,	'player2@email.com',	2,	'2022-09-14 12:53:07'),
(5,	1,	'player1@email.com',	0,	'2022-09-14 12:53:23'),
(6,	1,	'player2@email.com',	2,	'2022-09-14 12:53:42'),
(7,	1,	'player1@email.com',	3,	'2022-09-14 12:53:54'),
(8,	1,	'player2@email.com',	2,	'2022-09-14 12:54:00'),
(9,	1,	'player1@email.com',	2,	'2022-09-14 12:54:05'),
(10,	1,	'player2@email.com',	1,	'2022-09-14 12:54:17'),
(11,	1,	'player1@email.com',	3,	'2022-09-14 12:54:26'),
(12,	1,	'player2@email.com',	4,	'2022-09-14 12:54:43'),
(13,	1,	'player1@email.com',	6,	'2022-09-14 12:55:04'),
(14,	1,	'player2@email.com',	4,	'2022-09-14 12:55:18'),
(15,	1,	'player1@email.com',	4,	'2022-09-14 12:55:27'),
(16,	1,	'player2@email.com',	2,	'2022-09-14 12:55:38'),
(17,	1,	'player1@email.com',	1,	'2022-09-14 12:55:47'),
(18,	1,	'player2@email.com',	0,	'2022-09-14 12:55:54'),
(19,	1,	'player1@email.com',	0,	'2022-09-14 12:56:00'),
(20,	1,	'player2@email.com',	0,	'2022-09-14 12:56:07'),
(21,	1,	'player1@email.com',	0,	'2022-09-14 12:56:13'),
(22,	1,	'player2@email.com',	1,	'2022-09-14 12:56:23'),
(23,	1,	'player1@email.com',	1,	'2022-09-14 12:56:35'),
(24,	1,	'player2@email.com',	1,	'2022-09-14 12:56:38'),
(25,	1,	'player1@email.com',	1,	'2022-09-14 12:56:40'),
(26,	1,	'player2@email.com',	3,	'2022-09-14 12:56:47'),
(27,	1,	'player1@email.com',	3,	'2022-09-14 12:56:59'),
(28,	1,	'player2@email.com',	3,	'2022-09-14 12:57:06'),
(29,	1,	'player1@email.com',	4,	'2022-09-14 12:57:22'),
(30,	1,	'player2@email.com',	4,	'2022-09-14 12:57:31'),
(31,	1,	'player1@email.com',	4,	'2022-09-14 12:57:40'),
(32,	1,	'player2@email.com',	5,	'2022-09-14 12:58:10'),
(33,	1,	'player1@email.com',	5,	'2022-09-14 12:58:19'),
(34,	1,	'player2@email.com',	5,	'2022-09-14 12:58:21'),
(35,	1,	'player1@email.com',	5,	'2022-09-14 12:58:23'),
(36,	2,	'player3@email.com',	5,	'2022-09-14 13:09:16'),
(37,	2,	'ai',	5,	'2022-09-14 13:09:16'),
(38,	2,	'player3@email.com',	5,	'2022-09-14 13:09:18'),
(39,	2,	'ai',	4,	'2022-09-14 13:09:19'),
(40,	2,	'player3@email.com',	0,	'2022-09-14 13:09:26'),
(41,	2,	'ai',	3,	'2022-09-14 13:09:26'),
(42,	2,	'player3@email.com',	1,	'2022-09-14 13:09:35'),
(43,	2,	'ai',	0,	'2022-09-14 13:09:36'),
(44,	2,	'player3@email.com',	3,	'2022-09-14 13:09:55'),
(45,	2,	'ai',	1,	'2022-09-14 13:09:56'),
(46,	2,	'player3@email.com',	5,	'2022-09-14 13:10:04'),
(47,	2,	'ai',	0,	'2022-09-14 13:10:05'),
(48,	2,	'player3@email.com',	2,	'2022-09-14 13:10:16'),
(49,	2,	'ai',	6,	'2022-09-14 13:10:17'),
(50,	2,	'player3@email.com',	6,	'2022-09-14 13:10:42'),
(51,	2,	'ai',	0,	'2022-09-14 13:10:43'),
(52,	2,	'player3@email.com',	0,	'2022-09-14 13:10:50'),
(53,	2,	'ai',	6,	'2022-09-14 13:10:52'),
(54,	2,	'player3@email.com',	2,	'2022-09-14 13:11:04'),
(55,	2,	'ai',	5,	'2022-09-14 13:11:05'),
(56,	2,	'player3@email.com',	3,	'2022-09-14 13:11:20'),
(57,	2,	'ai',	3,	'2022-09-14 13:11:21'),
(58,	2,	'player3@email.com',	2,	'2022-09-14 13:11:32'),
(59,	2,	'ai',	2,	'2022-09-14 13:11:33'),
(60,	2,	'player3@email.com',	4,	'2022-09-14 13:11:42'),
(61,	2,	'ai',	4,	'2022-09-14 13:11:43'),
(62,	3,	'adriano@email.com',	0,	'2022-09-14 13:15:15'),
(63,	3,	'luca@email.com',	5,	'2022-09-14 13:15:44'),
(64,	3,	'adriano@email.com',	0,	'2022-09-14 13:15:52'),
(65,	3,	'luca@email.com',	5,	'2022-09-14 13:15:55'),
(66,	3,	'adriano@email.com',	0,	'2022-09-14 13:15:57'),
(67,	3,	'luca@email.com',	5,	'2022-09-14 13:16:00'),
(68,	3,	'adriano@email.com',	5,	'2022-09-14 13:16:08'),
(69,	3,	'luca@email.com',	0,	'2022-09-14 13:16:13'),
(70,	3,	'adriano@email.com',	6,	'2022-09-14 13:16:29'),
(71,	3,	'luca@email.com',	1,	'2022-09-14 13:16:36'),
(72,	3,	'adriano@email.com',	6,	'2022-09-14 13:16:38'),
(73,	3,	'luca@email.com',	1,	'2022-09-14 13:16:40'),
(74,	3,	'adriano@email.com',	6,	'2022-09-14 13:16:43'),
(75,	3,	'luca@email.com',	1,	'2022-09-14 13:16:45'),
(76,	3,	'adriano@email.com',	1,	'2022-09-14 13:17:03'),
(77,	3,	'luca@email.com',	6,	'2022-09-14 13:17:07'),
(78,	3,	'adriano@email.com',	1,	'2022-09-14 13:17:17'),
(79,	3,	'luca@email.com',	6,	'2022-09-14 13:17:19'),
(80,	3,	'adriano@email.com',	1,	'2022-09-14 13:17:24'),
(81,	3,	'luca@email.com',	6,	'2022-09-14 13:17:27'),
(82,	3,	'adriano@email.com',	2,	'2022-09-14 13:17:43'),
(83,	3,	'luca@email.com',	0,	'2022-09-14 13:17:47'),
(84,	3,	'adriano@email.com',	2,	'2022-09-14 13:17:49'),
(85,	3,	'luca@email.com',	0,	'2022-09-14 13:17:53'),
(86,	3,	'adriano@email.com',	2,	'2022-09-14 13:17:57'),
(87,	3,	'luca@email.com',	2,	'2022-09-14 13:18:04'),
(88,	3,	'adriano@email.com',	4,	'2022-09-14 13:18:14'),
(89,	3,	'luca@email.com',	2,	'2022-09-14 13:18:21'),
(90,	3,	'adriano@email.com',	4,	'2022-09-14 13:18:24'),
(91,	3,	'luca@email.com',	2,	'2022-09-14 13:18:28'),
(92,	3,	'adriano@email.com',	4,	'2022-09-14 13:18:31'),
(93,	3,	'luca@email.com',	3,	'2022-09-14 13:18:46'),
(94,	3,	'adriano@email.com',	5,	'2022-09-14 13:18:48'),
(95,	3,	'luca@email.com',	3,	'2022-09-14 13:18:52'),
(96,	3,	'adriano@email.com',	5,	'2022-09-14 13:18:55'),
(97,	3,	'luca@email.com',	3,	'2022-09-14 13:19:00'),
(98,	3,	'adriano@email.com',	3,	'2022-09-14 13:19:08'),
(99,	3,	'luca@email.com',	4,	'2022-09-14 13:19:13'),
(100,	3,	'adriano@email.com',	3,	'2022-09-14 13:19:16'),
(101,	3,	'luca@email.com',	4,	'2022-09-14 13:19:19'),
(102,	3,	'adriano@email.com',	3,	'2022-09-14 13:38:35'),
(103,	3,	'luca@email.com',	4,	'2022-09-14 13:38:38');
